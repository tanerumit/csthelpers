% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/scenario_weights_eval.R
\name{evaluate_scenario_surface_weights}
\alias{evaluate_scenario_surface_weights}
\title{Extended Evaluation of Scenario Surface Weights}
\usage{
evaluate_scenario_surface_weights(
  weight_surface,
  ensemble_data,
  ta_col = "tavg",
  pr_col = "prcp",
  group_col = "scenario",
  mapping = c("knn", "nearest", "bilinear"),
  k = 5L,
  tail_quantile = 0.1,
  stress_regions = NULL,
  active_threshold = 0.01,
  refit_fn = NULL,
  verbose = TRUE
)
}
\arguments{
\item{weight_surface}{Data frame with grid coordinates and weight columns per group}

\item{ensemble_data}{Data frame with GCM projections}

\item{ta_col}{Temperature column name}

\item{pr_col}{Precipitation column name}

\item{group_col}{Group/scenario column name}

\item{mapping}{Mapping method for log-score: "nearest", "knn", or "bilinear"}

\item{k}{Number of neighbors for knn mapping}

\item{tail_quantile}{Quantile threshold for tail regions (default 0.1)}

\item{stress_regions}{Optional named list of user-defined stress regions}

\item{active_threshold}{Minimum weight to count as "active" cell}

\item{refit_fn}{Optional function for LOO stability (takes data, grid -> weights)}

\item{verbose}{Print progress?}
}
\value{
List with:
  - `by_group`: Data frame of per-group metrics
  - `overall`: Aggregated metrics across groups
  - `diagnostics`: Detailed diagnostic info
  - `recommendations`: Decision-support flags
}
\description{
Computes statistical fit, concentration, tail coverage, spatial coherence,
and robustness metrics for climate scenario weight surfaces.
}
