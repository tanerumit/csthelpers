% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plotting_utils.R
\name{sos_radialplot}
\alias{sos_radialplot}
\title{Create a facetted radial (spider) plot with fixed tick placement}
\usage{
sos_radialplot(
  data,
  axis_col,
  panel_col,
  value_col,
  color_col,
  cat_colors,
  radial_breaks = NULL,
  start_angle = 90,
  direction = 1,
  facet_nrow = NULL,
  legend_title = "Category",
  spoke_to_max = TRUE
)
}
\arguments{
\item{data}{A data frame containing the variables to plot.}

\item{axis_col}{Variable mapped to the circular axis (e.g., `group` or `site`).}

\item{panel_col}{Variable used to facet panels (e.g., `scenario`).}

\item{value_col}{Numeric variable specifying the radial magnitude (bar length).
`NA` values are permitted and will result in no bar being drawn for that
observation; a warning is issued if any `NA`s are present.}

\item{color_col}{Variable defining the categorical fill grouping.}

\item{cat_colors}{Named character vector defining fill colors for `color_col` levels.
Names must match the factor levels to enforce consistent ordering.}

\item{radial_breaks}{Optional numeric vector of radial breaks (must include `0`).
If `NULL`, breaks are computed via `pretty()`.}

\item{start_angle}{Numeric. Angular position (degrees) of the `"GAP"` sector where
tick labels are printed. Default is `90` (top). Values are normalized to `[0, 360)`.}

\item{direction}{Numeric. `1` for counter-clockwise (default), `-1` for clockwise.}

\item{facet_nrow}{Integer. Number of rows for facet layout. Default `NULL` allows
`facet_wrap()` to choose automatically.}

\item{legend_title}{Character. Title for the fill legend. Default is `"Category"`.}

\item{spoke_to_max}{Logical. If `TRUE` (default), dashed helper spokes extend to
`max(radial_breaks)`. If `FALSE`, spokes extend only to each bar's value.}
}
\value{
A `ggplot` object.
}
\description{
`sos_radialplot()` generates a facetted radial (polar) bar plot for visualizing
categorical groups arranged around a circle (e.g., indicators, sites, or components)
and their corresponding numeric values under different panels (e.g., scenarios).

The function enforces consistent radial tick placement by reserving a dummy sector
(`"GAP"`) at a fixed angular position. The `"GAP"` sector is not drawn as a bar/spoke,
and is used only for printing tick labels.
}
\details{
Internally, a dummy `"GAP"` level is appended to the axis factor levels to reserve
a stable angular position for tick labels. This makes facet-to-facet comparison
reliable even when the number of axis categories varies.
}
\examples{
\dontrun{
df <- data.frame(
  group = rep(c("HF", "MF", "LF", "RFC", "IF", "Overall"), times = 4),
  scenario = rep(c("SSP1-2.6", "SSP2-4.5", "SSP3-7.0", "SSP5-8.5"), each = 6),
  value = c(5, 10, 25, 0, 5, 10,
            8, 12, 30, 10, 0, 15,
            10, 18, 35, 15, 5, 20,
            15, 20, 40, 18, 10, 25),
  risk_class = rep(c("Low", "Low", "Medium", "No", "Low", "Low"), times = 4)
)

cat_colors <- c("No" = "green", "Low" = "yellow", "Medium" = "orange", "High" = "red")

sos_radialplot(
  data = df,
  axis_col = group,
  panel_col = scenario,
  value_col = value,
  color_col = risk_class,
  cat_colors = cat_colors,
  radial_breaks = seq(0, 50, 10),
  start_angle = 90,
  legend_title = "Risk Class"
)
}

}
