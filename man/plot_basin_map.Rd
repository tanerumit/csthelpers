% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plot_map.R
\name{plot_basin_map}
\alias{plot_basin_map}
\title{Plot a basin overview map (basins, river network, and labelled points)}
\usage{
plot_basin_map(
  basins_sf = NULL,
  subbasins_sf = NULL,
  rivers_sf = NULL,
  points_sf = NULL,
  stream_order_col = "strord",
  label_col = "name",
  min_stream_order = 2,
  bbox_buffer = 5,
  style = list(),
  add_scale = FALSE,
  add_north = FALSE
)
}
\arguments{
\item{basins_sf}{`sf` object (polygons). Optional basin boundaries.}

\item{subbasins_sf}{`sf` object (polygons). Optional subbasin boundaries to
overlay on the map.}

\item{rivers_sf}{`sf` object (lines). Optional river network. Must contain a
numeric column for stream order (see `stream_order_col`).}

\item{points_sf}{`sf` object (points). Optional point layer. Must contain a
column for labels (see `label_col`).}

\item{stream_order_col}{Character scalar. Name of the numeric stream order
column in `rivers_sf`. Default is `"strord"`.}

\item{label_col}{Character scalar. Name of the label column in `points_sf`.
Default is `"name"`.}

\item{min_stream_order}{Numeric scalar. Minimum stream order threshold for
filtering rivers. Rows with stream order >= this value are plotted
(inclusive).}

\item{bbox_buffer}{Numeric scalar or length-2 numeric vector. Buffer applied
to the computed bounding box before plotting, in map units of the data CRS.
If scalar, applied to both x and y directions. Default is `0` (no buffer).}

\item{style}{Named list of visual parameters. Only provided names override
defaults. Use to avoid cluttering the function signature.}

\item{add_scale}{Logical. If `TRUE`, adds `ggspatial::annotation_scale()`.}

\item{add_north}{Logical. If `TRUE`, adds `ggspatial::annotation_north_arrow()`.}
}
\value{
A `ggplot` object with an additional attribute `"bbox"` containing
the unbuffered bounding box for all layers, and `"bbox_plot"` containing the
buffered bounding box actually used for plotting.
}
\description{
Creates a simple basin overview map using `geom_sf()`, with optional
basin polygons, river network lines filtered by stream order, and labelled
point locations.

The function harmonizes CRS across inputs by transforming all layers to the
CRS of the first non-`NULL` object among `basins_sf`, `subbasins_sf`,
`rivers_sf`, `points_sf`.
}
\examples{
\dontrun{
p <- plot_basin_map(
  basins_sf = basins_sf,
  subbasins_sf = subbasins_sf,
  rivers_sf = rivers_sf,
  points_sf = points_sf,
  min_stream_order = 3,
  bbox_buffer = 5000
)
print(p)
attr(p, "bbox")
attr(p, "bbox_plot")
}

}
